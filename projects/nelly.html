<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>

<body>
    <div class="container" style="height: 100%;">
        <div class="mt-5 d-flex justify-content-center align-items-center">
            <div class="card w-100 border-0 shadow shadow-lg">
                <div class="row">
                    <div class="col-6 d-none d-lg-block">
                        <img style="width: 100%; height: 100%; object-fit: cover;"
                            src="https://syno-media-input.s3.eu-west-1.amazonaws.com/331351/6c5815524a1e41f8a322a83275a34f80.png"
                            alt="Nelly's model" />
                    </div>
                    <div class="col-12 col-lg-6 h-100">
                        <div class="text-justify font-weight-light p-5 py-lg-4 p-lg-4">
                            <h2>Hej!</h2>
                            <p style="line-height: 2rem;">Vi hoppas att detta mejl når dig väl. Vi genomför en undersökning för att bättre förstå
                                köpbeteende och vi skulle vilja bjuda in dig att delta.</p>
                            <p style="line-height: 2rem;">Undersökningen består av 18 flervalsfrågor och tar cirka 15 minuter att slutföra. Som
                                en uppskattning för din medverkan skulle vi vilja erbjuda dig en rabattkod värd <span
                                    class="font-weight-bold" style="font-size: 1em; color: #9370db;">150 SEK</span> som du kan använda på <a class="font-weight-bold" style="color: #9370db;" title="https://nelly.com/se/" href="https://nelly.com/se/" target="_blank" rel="noopener"
                                    data-saferedirecturl="https://www.google.com/url?q=https://nelly.com/se/&amp;source=gmail&amp;ust=1683982933312000&amp;usg=AOvVaw1eEp2b-aHE_dJY2JCyU22x">Nelly.com</a> när du handlar för minst 500 SEK.</p>
                            <p style="line-height: 2rem;">Rabattkoden skickas till dig via mejl när du har genomfört undersökningen.</p>
                            <p style="line-height: 2rem;">Vi genomför denna undersökning för att vi ständigt vill utveckla vårt erbjudande</p>
                            
                            <div class="w-100 d-flex justify-content-center">
                                <img src="https://syno-media-input.s3.eu-west-1.amazonaws.com/331351/44aaad64dcdeccb7c926657fca201207.png" alt="Nelly logo"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function add_insertans({filter, selector}) {
            let competitors_list = [];
            var location = document.querySelector(selector);
            
            response.answers.forEach((answer) => {
            if (answer.questionCode == filter && answer.code != "11") {
                if (answer.value == "") {
                competitors_list.push(`<span class="badge text-black" style="background-color: #e5d3b3">${answer.label}</span>`);
                } else {
                competitors_list.push(`<<span class="badge text-black" style="background-color: #e5d3b3">${answer.value}</span>`);
                }
            }
            });

            // const competitors = competitors_list.join(", ");
            const competitors = competitors_list.join(", ");

            console.log(competitors);
            location.innerHTML = competitors;
        }

        add_insertans({
            // Single choice to use its selected option
            filter : "Q4x2xFILTER", 
            // In the current page, the CSS selector (id or class) to be replaced
            selector : "#competitors"
        });
    </script>
    <script>
        window.addEventListener('load', () => {
            for(let [key, value] of Object.entries(answer_options)){
                // Set names for id, name and slider badga
                const new_slider_id = `slider_${question_code}_${key}`;
                const new_slider_value = `slider_badge_${question_code}_${key}`;
                
                // Get the slider by ID
                const slider = document.getElementById(new_slider_id);
                const slider_badge = document.getElementById(new_slider_value);    
                
                // Write the value of the slider whenever it changes
                value.input.value = slider.value; // Writes the value in the text box
                slider_badge.innerText = slider.value; // Write the value in the slider badge
            }
        });
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>